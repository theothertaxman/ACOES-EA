<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/WEB-INF/templates/dashboard.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="title">
        ACOES - #{locale_msg.how_can_i_help}
    </ui:define>

    <ui:define name="content">        
        <h2>#{locale_msg.how_can_i_help}</h2>
        <hr/>
        <p>
           <c:choose>
                <c:when test="#{locale_msg.lang == 'en'}">
                    Thanks to your donations and help, more than 8.000 children have food on their table
                    and access to education in a country where one out of three young people is analphabet,
                    and doesn't have a proper nutrition.
                </c:when>
                <c:when test="#{locale_msg.lang == 'es'}">
                    Gracias a sus donaciones y ayudas, más de 8.000 niños tienen comidas en sus mesas, y
                    acceso a una educación en un país en el que 1 de cada 3 jóvenes es analfabeto y 
                    no tiene una alimentación adecuada.
                </c:when>
            </c:choose>
        </p>
        <h:form style="width: 50%">
            <fieldset>
                <legend>#{locale_msg.donate_form_fieldset}</legend>
                <label for="quantity">#{locale_msg.quantity}</label><br/>
                
                <c:choose>
                    <c:when test="#{locale_msg.lang == 'en'}">
                        <h:inputText value="#{donation.amount}" class="form-control" required="true"
                                converterMessage="Please enter a number greater than 0"
                                validatorMessage="Please enter a number greater than 0">
                            <f:convertNumber currencySymbol="$"></f:convertNumber>
                            <f:validateLongRange minimum="1"/>
                        </h:inputText>
                    </c:when>
                    <c:when test="#{locale_msg.lang == 'es'}">
                        <h:inputText value="#{donation.amount}" class="form-control" required="true"
                                converterMessage="Por favor, introduzca un número mayor que 0"
                                validatorMessage="Por favor, introduzca un número mayor que 0">
                            <f:convertNumber currencySymbol="$"></f:convertNumber>
                            <f:validateLongRange minimum="1"/>
                        </h:inputText>
                    </c:when>
                </c:choose>
                
                <br />
            </fieldset>
            <h:panelGrid columns="2" cellpadding="5">
                <h:commandButton type="submit" class="btn btn-primary" value="#{locale_msg.btn_donate}" action="#{donation.donate()}"/>
            </h:panelGrid>
        </h:form>
        <p></p>
        <h:messages style="list-style: none; color: red"></h:messages>
        <h:outputText id="donationMessage" value="#{donation.message}"/>
    </ui:define>
</ui:composition>